"use strict";var style="<style>label.error{color: red; font-size: 15px}</style>",field={username:{required:!0,minlength:1,maxlength:30},password:{required:!0,minlength:5,maxlength:30},confimPassword:{required:!0,minlength:5,maxlength:30,equalTo:"#password"},email:{maxlength:30,required:!1,email:!0},phoneNumber:{required:!0,digits:!0,minlength:11,maxlength:11},code:{required:!0,digits:!0},require:{required:!0}},Form={signinForm:{content:{account:field.username,permission:field.require,password:field.password,confimPassword:field.confimPassword},url:"/authentication/signin"},loginForm:{content:{account:field.username,password:field.password},url:"/authentication/login"},phoneForm:{content:{phoneNumber:field.phoneNumber,code:code},url:"/profile/validate_phone"},profileForm:{content:{nickname:field.username,sex:field.require,email:field.email,password:field.password,confimPassword:field.confimPassword},url:"/post_test"},attendanceForm:{content:{code:field.code},url:"attendance/validate"},reAttendanceForm:{content:{account:field.username},url:"attendance/resign"}},Input=function(e,r,n,t){return'<label for="'+e+'">'+t+'</label><input id="'+e+'" type="'+n+'" name="'+r+'"/>'},errorPlacement=function(e,r){r.parent().next().attr("id")===r.id+"-wrapper"?e.appendTo(r.parent().next()):(r.parent().after('<div id="'+r.id+'-wrapper" class="row"></div>'),e.appendTo(r.parent().next()))},defaultAction=function(e){return function(r){302===r.status?location.href=r.location:e(r)}};$.fn.serializeJSON=function(){var e={},r=this.serializeArray();return $.each(r,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),JSON.stringify(e)},$.afterPOST=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){};return function(r){return function(n){$.post(r,$(n).serializeArray(),defaultAction(e))}}},$(document).ready(function(){$("#signinForm").validate({rules:Form.signinForm.content,errorPlacement:errorPlacement,submitHandler:$.afterPOST()(Form.signinForm.url)}),$("#loginForm").validate({rules:Form.loginForm.content,errorPlacement:errorPlacement,submitHandler:$.afterPOST()(Form.loginForm.url)}),$("#phoneForm").validate({rules:Form.phoneForm.content,errorPlacement:errorPlacement,submitHandler:$.afterPOST()(Form.phoneForm.url)}),$("#profileForm").validate({rules:Form.profileForm.content,errorPlacement:errorPlacement,submitHandler:$.afterPOST()(Form.profileForm.url)}),$("#attendanceForm").validate({rules:Form.attendanceForm.content,errorPlacement:errorPlacement,submitHandler:$.afterPOST()(Form.attendanceForm.url)}),$("#reAttendanceForm").validate({rules:Form.reAttendanceForm.content,errorPlacement:errorPlacement,submitHandler:$.afterPOST()(Form.attendanceForm.url)}),$("title").append(style)});