<!DOCTYPE html>
<!--我加入的群组里模态id未改
每个群的超链接未改-->
<html>
<head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
     <link type="text/css" rel="stylesheet" href="../../static/css/materialize.min.css"
          media="screen,projection"/>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta charset="utf-8">
    <title>{{ title }}</title>
</head>
<body>
<!--Import jQuery before materialize.js-->
<script type="text/javascript" src="jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="materialize/js/materialize.min.js"></script>
<!--背景-->
<div id="background" style="
        position:absolute;
        z-index:-1;
        width:100%;
        height:100%;
        top:0px;
        left:0px;">
    <img src="..\..\static\images\background.jpg" width="100%" height="100%"/>
</div>
<!--背景-->
<nav>
    <div class="nav-wrapper green">
        <a href="#!" class="brand-logo center">群组</a>
          <ul class="left">
              <a href="{{ url_for('index'}}"> <i class="material-icons">home</i></a>
          </ul>
        <ul class="right">
            <a class='dropdown-button green click-to-toggle' href='#' data-activates='dropdown1'><i class=" large material-icons">add</i></a>

            <!-- Dropdown Structure -->
            <ul id='dropdown1' class='dropdown-content'>
                <li><a href="#create" class="modal-trigger">创建群组</a></li>

                <li class="divider"></li>
                <li><a href="#add" class="modal-trigger">添加群组</a></li>
            </ul>

        </ul>
    </div>
</nav>
<div class="row">
    <div id="create" class="modal modal-fixed-footer">
        <div class="modal-content">
            <h3>创建群组</h3>
            <form id="groupForm">
                <div class="input-field col s12">
                    <input id="groupName" type="text" class="validate">
                    <label for="groupname"></label>
                </div>
                <div class="row">
                    <input name="groupOption" type="radio" id="groupOption1" />
                    <label for="groupOption1">班级</label>
                    <input name="groupOption" type="radio" id="groupOption2" />
                    <label for="groupOption2">社团</label>
                    <input name="groupOption" type="radio" id="groupOption3" />
                    <label for="groupOption3">其他</label>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <input id="groupInfo" class="materialize-textarea" name="groupInfo"> </input>
                        <label for="groupInfo">简介</label>
                    </div>
                </div>
                <button class="btn waves-effect waves-light" type="submit" name="action">创建
                    <i class="material-icons right">send</i>
                </button>
            </form>
        </div>
    </div>
</div>

<div class="row">
    <div id="add" class="modal modal-fixed-footer">
        <div class="modal-content">
            <h3>添加群组</h3>
            <p>请输入群号</p>
            <form>
                <div class="input-field col s12">
                    <input id="group_number" type="text" class="validate">
                    <label for="group_number">群号</label>
                </div>
                <button class="btn waves-effect waves-light" type="submit" name="action">查找
                    <i class="material-icons right">send</i>
                </button>
            </form>
        </div>
    </div>
</div>
<ul class="collapsible popout" data-collapsible="accordion">
    <li>
        <div class="collapsible-header">
            <i class="large material-icons">face</i>
            <span class="flow-text">我管理的群组</span>
        </div>
       <a href="!#">
           <div class="collapsible-body">
            {% for group in groups %}
            <div class="card-panel white z-depth-1">
                <div class="row valign-wrapper" style="margin-bottom: 0px">
                    <div class="col s2"><i class="material-icons black-text">event</i></div>
                    <div class="col s7"><span class="flow-text black-text">{{ group.name }}</span></div>
                    <div class="col s3"><a href="#{{ group.id }}"
                                           class="btn btn-floating waves-effect waves-light modal-trigger orange">
                        ...</a>
                    </div>
                    <div id="{{ group.id }}" class="modal modal-fixed-footer">
                        <div class="modal-content">
                            <h3>{{group.name}}</h3>
                            <h5>群号</h5>
                            <p>{{group.number}}</p>
                            <h5>类型</h5>
                            <p>{{group.cls}}</p>
                            <h5>简介</h5>
                            <p>{{ group.info }}</p>
                        </div>
                        <div class="modal-footer">
                            <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">关闭</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
       </a>
    </li>
    <li>
        <div class="collapsible-header">
            <i class="material-icons medium">people</i>
            <span class="flow-text">我加入的群组</span>
        </div>
        <a href="#!"><div class="collapsible-body">
            {% for group in groups %}
            <div class="card-panel white z-depth-1">
                <div class="row valign-wrapper" style="margin-bottom: 0px">
                    <div class="col s2"><i class="material-icons black-text">event</i></div>
                    <div class="col s7"><span class="flow-text black-text">{{ group.name }}</span></div>
                    <div class="col s3"><a href="#{{ group.id_ }}"
                                           class="btn btn-floating waves-effect waves-light modal-trigger orange">
                        ...</a>
                    </div>
                    <div id="{{ group.id_ }}" class="modal modal-fixed-footer">
                        <div class="modal-content">
                            <h3>{{group.name}}</h3>
                            <h5>群号</h5>
                            <p>{{group.number}}</p>
                            <h5>类型</h5>
                            <p>{{group.cls}}</p>
                            <h5>简介</h5>
                            <p>{{ group.info }}</p>
                        </div>
                        <div class="modal-footer">
                            <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">关闭</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div></a>
    </li>
</ul>
</body>
</html>
<script>
    $('.dropdown-button').dropdown({
    inDuration: 300,
    outDuration: 225,
    constrain_width: false, // Does not change width of dropdown to that of the activator
    hover: true, // Activate on hover
    gutter: 0, // Spacing from edge
    belowOrigin: false, // Displays dropdown below the button
    alignment: 'left' // Displays dropdown with edge aligned to the left of button
    }
    );
    $(document).ready(function(){
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal').modal();
    });
</script>
