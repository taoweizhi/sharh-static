<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="../../static/css/pikaday.css">
    <script type="text/javascript" src="../../static/js/pikaday.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="../../static/css/materialize.min.css"
          media="screen,projection"/>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta charset="utf-8">
    <title>{{ title }}</title>
</head>
<body>
<!--Import jQuery before materialize.js-->
<script type="text/javascript" src="../../static/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="../../static/js/materialize.min.js"></script>
<!--背景-->
<div id="background" style="position:absolute;z-index:-1;width:100%;height:100%;top:0px;left:0px;">
    <img src="..\..\static\images\background.jpg" width="100%" height="100%"/>
</div>
<!--背景-->
<nav>
    <div class="nav-wrapper orange">
        <a href="#" class="brand-logo orange center">修改资料</a>
        <ul id="nav-mobile" class="left">
            <li><a href="{{url_for('profile.profile')}}">个人中心</a></li>
        </ul>
    </div>
</nav>
<div class="container">
    <div class="row">
        <form id="profileForm">
            <div class="input-field s10 m=8 l=6">
                <i class="material-icons prefix"><i class="material-icons ">person</i></i>
                <input type="text" id="nickname" name="nickname">
                <label for="nickname">昵称</label>
            </div>
            <div class="input-field s10 m=8 l=6">
                <i class="material-icons prefix"><i class="material-icons ">cake</i></i>
               <input type="text" id="birthday" name="birthday">
                <label for="birthday">生日</label>
            </div>
            <div class="input-field s10 m=8 l=6">
                <i class="material-icons prefix"><i class="material-icons ">mail</i></i>
               <input type="text" id="email" name="email">
                <label for="email">邮箱</label>
            </div>
            <div class="input-field s10 m=8 l=6">
                <i class="material-icons prefix"><i class="material-icons ">mode_edit</i></i>
                <input type="password" id="password" name="password">
                <label for="password">密码</label>
            </div>
            <div class="row">
                <p>
                    <input name="sex" type="radio" id="man" />
                    <label for="man">男</label>
                </p>
                <p>
                    <input name="sex" type="radio" id="woman" />
                    <label for="woman">女</label>
                </p>
            </div>

            <div class="button col s6 m6 l6">
                <button class="btn waves-effect waves-light #ef5350 orange" type="submit">确定
                </button>
            </div>
        </form>
    </div>
</div>
</div>
</body>
</html>
<script type="text/javascript">
    $('#nickname').value="{{ user.nickname }}";
    $("#email").value="{{ user.email }}";
    $("#birthday").value="{{ user.birthday }}";
    $("#password").value="{{ user.password }}";
    if(document.getElementById("sex-0").value=="{{ user.sex.value }}")
    {
    document.getElementsByName("sex")[0].checked="checked";
    }
    else{
    document.getElementsByName("sex")[1].checked="checked";
    }
    if(document.getElementById("birthday").value)
    {
    document.getElementsByTagName("label")[1].innerHTML="生日";
    }
    else
    {
    var time=new Date();
    var date = time.getDate();
    document.getElementById("birthday").value=time.getFullYear;
    document.getElementsByTagName("label")[1].innerHTML="生日";
    }
</script>
<script type="text/javascript">
    var today = new Date();
    today.getFullYear();
    var picker = new Pikaday(
    {
    field: document.getElementById('birthday'),
    firstDay: 1,
    minDate: new Date('1940-01-01'),
    maxDate: new Date('250-12-31'),
    yearRange: [1940,today.getFullYear()]
    });

</script>
